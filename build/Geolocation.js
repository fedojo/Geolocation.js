var Geolocation=function(){function t(){}function e(t){alert("code: "+t.code+"\nmessage: "+t.message+"\n")}function n(t){var e=t,n=e.coords;return curObj={latitude:n.latitude,longitude:n.longitude,timestamp:e.timeStamp},a.push(curObj),curObj}function o(t){console.log(t)}var r=null,a=[],u=navigator.geolocation;return t.prototype={successHandler:null,getCurrentPosition:function(){u.getCurrentPosition(o)},startWatching:function(t){var o={timeout:3e4};currentRouteArray=t,r=u.watchPosition(n,e,o)},stopWatching:function(){u.clearWatch(r)},getCenterPoint:function(){var t=a[0].latitude,e=a[0].latitude,n=a[0].longitude,o=a[0].longitude,r=0,u=0;return a.forEach(function(r){t=t>r.latitude?t:r.latitude,n=n>r.longitude?n:r.longitude,e=e<r.latitude?e:r.latitude,o=o<r.longitude?o:r.longitude}),u=(t+e)/2,r=(n+o)/2,centerPoint={latitude:u,longitude:r},centerPoint},getLatLangArray:function(){var t=[];return currentRouteArray.forEach(function(e){t.push([e.latitude,e.longitude])}),t},drawGMapWithRoute:function(t){if(t){t.$element?t.$element:document.getElementById("map"),t.routeArray?t.routeArray:currentRouteArray}else{var t={};t.$element=document.getElementById("map"),t.routeArray=a}var e=[],n=this.getCenterPoint();mapOptions={zoom:14,center:new google.maps.LatLng(n.latitude,n.longitude)},map=new google.maps.Map(t.$element,mapOptions),t.routeArray.forEach(function(t){e.push(new google.maps.LatLng(t.latitude,t.longitude));{var n=new google.maps.LatLng(t.latitude,t.longitude);new google.maps.Marker({position:n,map:map,title:"Hello World!"})}});var o=new google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});o.setMap(map)},setRouteArray:function(t){t.forEach(function(t){a.push({latitude:t[0],longitude:t[1]})})},getRouteArray:function(){return a}},t}();